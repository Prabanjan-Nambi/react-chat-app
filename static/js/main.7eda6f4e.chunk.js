(this["webpackJsonpreact-deploy"]=this["webpackJsonpreact-deploy"]||[]).push([[0],{137:function(e,t,a){},138:function(e,t,a){},162:function(e,t,a){},220:function(e,t,a){"use strict";a.r(t);var s=a(3),n=a(1),c=a.n(n),r=a(23),i=a.n(r),l=(a(137),a(53)),o=a(54),h=a(57),d=a(56),j=(a(138),a.p,a(18)),u=a(226),b=u.a.Header,m=u.a.Content,p=u.a.Footer;function x(e){return Object(s.jsxs)(u.a,{children:[Object(s.jsx)(b,{style:{position:"fixed",zIndex:1,width:"100%"},children:Object(s.jsx)("div",{className:"logo"})}),Object(s.jsx)(m,{className:"site-layout",style:{padding:"0 50px",marginTop:64}}),Object(s.jsx)(p,{style:{textAlign:"center"},children:"Ant Design \xa92018 Created by Ant UED"})]})}var O=a(44),g=a.n(O),v=a(61),f=a(49),y=a(43),S=a(87);S.a.initializeApp({apiKey:"AIzaSyB0loSM8cgnyl4FP2vLJedoIKtNdagEvQs",authDomain:"kloudchat-31a87.firebaseapp.com",databaseURL:"https://kloudchat-31a87.firebaseio.com"});var C=S.a.auth,w=S.a.database(),k=(a(161),a(162),a(225)),N=a(227),E=a(228),A=a(224),D=a(127),F=a(126),I=a(229),L=a(230),P=a(231),H=a(232),T=a(233),M=a(121),z=u.a.Header,U=(u.a.Footer,k.a.TextArea),K=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={user:C().currentUser,chats:[],content:"",readError:null,writeError:null,feeds:[]},s.handleChange=s.handleChange.bind(Object(y.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(y.a)(s)),s}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(s.jsxs)(u.a,{style:{backgroundColor:"#dedede !important"},children:[Object(s.jsx)(z,{style:{position:"fixed",zIndex:1,width:"100%",backgroundColor:"white"},children:Object(s.jsxs)(N.a,{children:[Object(s.jsx)(E.a,{xs:24,sm:24,md:24,lg:4,children:Object(s.jsx)(A.a,{src:"https://i.pravatar.cc/150?img=32",alt:"Han Solo",title:this.state.user})}),Object(s.jsx)(E.a,{xs:24,sm:24,md:24,lg:8,children:Object(s.jsx)(k.a,{className:"app-search-input",placeholder:"Search Friends..."})}),Object(s.jsx)(E.a,{xs:24,sm:24,md:24,lg:2}),Object(s.jsxs)(E.a,{xs:24,sm:24,md:24,lg:4,children:[Object(s.jsx)(I.a,{className:"app-header-icons"}),Object(s.jsx)(L.a,{className:"app-header-icons"}),Object(s.jsx)(P.a,{className:"app-header-icons"})]}),Object(s.jsxs)(E.a,{xs:24,sm:24,md:24,lg:6,children:[Object(s.jsx)(A.a,{src:"https://i.pravatar.cc/150?img=32",alt:"Han Solo",title:this.state.user}),Object(s.jsxs)("span",{className:"app-login-name",children:["Logged In as : ",this.state.user.email]})]})]})}),Object(s.jsx)(M.Content,{style:{marginTop:"6%"},children:Object(s.jsxs)(N.a,{children:[Object(s.jsx)(E.a,{xs:0,sm:0,md:0,lg:7}),Object(s.jsxs)(E.a,{xs:24,sm:24,md:24,lg:10,children:[Object(s.jsxs)("div",{className:"create-feeds",children:[Object(s.jsxs)("div",{className:"create-feeds-header",children:[Object(s.jsx)(H.a,{className:"create-feeds-icon"}),Object(s.jsx)("label",{className:"create-feeds-label",children:"Create Post"})]}),Object(s.jsx)("div",{className:"create-feeds-input",children:Object(s.jsx)(U,{placeholder:"What's on your mind?",style:{borderRadius:"20px",borderWidth:"1px",borderColor:"#e4e4e4"},rows:4})})]}),Object(s.jsx)("div",{className:"feeds-list",children:0===this.state.feeds.length&&Object(s.jsx)("p",{className:"app-no-feeds",children:"No Feeds Available!"})})]}),Object(s.jsx)(E.a,{xs:0,sm:0,md:0,lg:7})]})}),Object(s.jsxs)("div",{className:"chat-box-container",children:[Object(s.jsx)("div",{className:"chat-box-conversations",children:this.state.chats.map((function(t){return t.userInfo!=e.state.user.email?Object(s.jsxs)(N.a,{style:Object(f.a)({padding:"1rem 0 0 0",transition:"all 0.15s ease-in-out",animation:"fadeNewMessage 0.5s"},"animation","forwards"),children:[Object(s.jsx)(E.a,{xs:22,sm:22,md:22,lg:22,children:Object(s.jsx)("div",{className:"chat-box-message chat-box-message-right",children:t.content},t.timestamp)}),Object(s.jsx)(E.a,{xs:2,sm:2,md:2,lg:2,children:Object(s.jsx)(A.a,{src:"https://i.pravatar.cc/150?img=32",alt:"Han Solo",title:e.state.user})})]},t.timestamp):Object(s.jsxs)(N.a,{style:Object(f.a)({padding:"1rem 0 0 0",transition:"all 0.15s ease-in-out",animation:"fadeNewMessage 0.5s"},"animation","forwards"),children:[Object(s.jsx)(E.a,{xs:2,sm:2,md:2,lg:2,children:Object(s.jsx)(A.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",alt:"Han Solo",title:e.state.user})}),Object(s.jsx)(E.a,{xs:22,sm:22,md:22,lg:22,children:Object(s.jsx)("div",{className:"chat-box-message chat-box-message-left",children:t.content},t.timestamp)})]},t.timestamp)}))}),Object(s.jsx)("div",{className:"chat-box-controls",children:Object(s.jsxs)(N.a,{style:{padding:"5px"},children:[Object(s.jsx)(E.a,{xs:20,sm:20,md:20,lg:20,children:Object(s.jsx)(k.a,{className:"chat-box-input",onChange:this.handleChange,placeholder:"Type your message here...",value:this.state.content})}),Object(s.jsx)(E.a,{xs:4,sm:4,md:4,lg:4,children:Object(s.jsx)(D.a,{title:"Send",children:Object(s.jsx)(F.a,{className:"chat-send-button",onClick:this.handleSubmit,type:"primary",shape:"circle",icon:Object(s.jsx)(T.a,{})})})})]})})]})]})}},{key:"handleChange",value:function(e){this.setState({content:e.target.value})}},{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({readError:null});try{w.ref("chats").on("value",(function(e){var a=[];e.forEach((function(e){a.push(e.val())})),t.setState({chats:a})}))}catch(a){this.setState({readError:a.message})}case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({writeError:null}),e.prev=2,e.next=5,w.ref("chats").push({content:this.state.content,timestamp:Date.now(),uid:this.state.user.uid,userInfo:this.state.user.email});case 5:this.setState({content:""}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),this.setState({writeError:e.t0.message});case 11:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()}]),a}(n.Component),W=a(42);var B=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={error:null,email:"",password:""},s.handleChange=s.handleChange.bind(Object(y.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(y.a)(s)),s}return Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({error:""}),e.prev=2,e.next=5,a=this.state.email,s=this.state.password,C().createUserWithEmailAndPassword(a,s);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),this.setState({error:e.t0.message});case 10:case"end":return e.stop()}var a,s}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsxs)("h1",{children:["Sign Up to",Object(s.jsx)(W.b,{to:"/",children:"KloudChat"})]}),Object(s.jsx)("p",{children:"Fill in the form below to create an account."}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{placeholder:"Email",name:"email",type:"email",onChange:this.handleChange,value:this.state.email})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{placeholder:"Password",name:"password",onChange:this.handleChange,value:this.state.password,type:"password"})}),Object(s.jsxs)("div",{children:[this.state.error?Object(s.jsx)("p",{children:this.state.error}):null,Object(s.jsx)("button",{type:"submit",children:"Sign up"})]}),Object(s.jsx)("hr",{}),Object(s.jsxs)("p",{children:["Already have an account? ",Object(s.jsx)(W.b,{to:"/login",children:"Login"})]})]})})}}]),a}(n.Component),J=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={error:null,email:"",password:""},s.handleChange=s.handleChange.bind(Object(y.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(y.a)(s)),s}return Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({error:""}),e.prev=2,e.next=5,a=this.state.email,s=this.state.password,C().signInWithEmailAndPassword(a,s);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),this.setState({error:e.t0.message});case 10:case"end":return e.stop()}var a,s}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("form",{autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(s.jsxs)("h1",{children:["Login to",Object(s.jsx)(W.b,{to:"/",children:"KloudChat"})]}),Object(s.jsx)("p",{children:"Fill in the form below to login to your account."}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{placeholder:"Email",name:"email",type:"email",onChange:this.handleChange,value:this.state.email})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{placeholder:"Password",name:"password",onChange:this.handleChange,value:this.state.password,type:"password"})}),Object(s.jsxs)("div",{children:[this.state.error?Object(s.jsx)("p",{children:this.state.error}):null,Object(s.jsx)("button",{type:"submit",children:"Login"})]}),Object(s.jsx)("hr",{}),Object(s.jsxs)("p",{children:["Don't have an account? ",Object(s.jsx)(W.b,{to:"/signup",children:"Sign up"})]})]})})}}]),a}(n.Component),R=a(59),X=a(85);function q(e){var t=e.component,a=e.authenticated,n=Object(X.a)(e,["component","authenticated"]);return Object(s.jsx)(j.b,Object(R.a)(Object(R.a)({},n),{},{render:function(e){return!0===a?Object(s.jsx)(t,Object(R.a)({},e)):Object(s.jsx)(j.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}function Q(e){var t=e.component,a=e.authenticated,n=Object(X.a)(e,["component","authenticated"]);return Object(s.jsx)(j.b,Object(R.a)(Object(R.a)({},n),{},{render:function(e){return!1===a?Object(s.jsx)(t,Object(R.a)({},e)):Object(s.jsx)(j.a,{to:"/chat"})}}))}var V=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={authenticated:!1,loading:!0},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;C().onAuthStateChanged((function(t){t?e.setState({authenticated:!0,loading:!1}):e.setState({authenticated:!1,loading:!1})}))}},{key:"render",value:function(){return!0===this.state.loading?Object(s.jsx)("h2",{children:"Loading..."}):Object(s.jsxs)(j.d,{children:[Object(s.jsx)(j.b,{exact:!0,path:"/",component:x}),Object(s.jsx)(q,{exact:!0,path:"/chat",authenticated:this.state.authenticated,component:K}),Object(s.jsx)(Q,{exact:!0,path:"/signup",authenticated:this.state.authenticated,component:B}),Object(s.jsx)(Q,{exact:!0,path:"/login",authenticated:this.state.authenticated,component:J})]})}}]),a}(n.Component),Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,234)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))};i.a.render(Object(s.jsxs)(c.a.StrictMode,{children:[Object(s.jsx)(W.a,{basename:"/",children:Object(s.jsx)(V,{})}),","]}),document.getElementById("root")),Y()}},[[220,1,2]]]);
//# sourceMappingURL=main.7eda6f4e.chunk.js.map